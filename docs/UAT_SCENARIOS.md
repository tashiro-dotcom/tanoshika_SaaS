# UAT_SCENARIOS

MVP現場テスト用の操作シナリオ集。
各シナリオは「手順」と「期待結果」をセットで確認する。

## 事前準備

1. APIサーバーとWebアプリが起動していること
2. 管理者アカウントでログイン可能なこと
3. `/admin` 画面にアクセスできること

## シナリオ1: ログイン

### 手順
1. `/admin` を開く
2. メールアドレスとパスワードを入力して「ログイン（MFA開始）」を押す
3. MFAコードを入力して「MFA検証」を押す

### 期待結果
1. 「認証状態: ログイン中」が表示される
2. エラーメッセージが表示されない

## シナリオ2: 利用者登録とステータス更新

### 手順
1. 「利用者一覧を取得」を押す
2. 新規登録フォームで必須項目（氏名）を入力して「利用者を登録」を押す
3. ステータス更新フォームで対象利用者を選び「ステータス更新」を押す

### 期待結果
1. 利用者テーブルに新規利用者が追加される
2. 対象利用者のステータスが更新される

## シナリオ3: 打刻（出勤・退勤）

### 手順
1. 勤怠管理の「対象利用者」を選ぶ
2. 「出勤打刻」を押す
3. 同じ利用者で「退勤打刻」を押す
4. 「勤怠一覧を取得」を押す

### 期待結果
1. 対象利用者の新しい勤怠ログが表示される
2. 出勤時刻・退勤時刻が両方入っている

## シナリオ4: 勤怠修正申請と承認

### 手順
1. 「修正申請」で対象勤怠ログと理由を入力し作成する
2. 申請IDを指定して「申請を承認」を押す

### 期待結果
1. 申請テーブルに対象申請が表示される
2. 申請ステータスが `approved` になる

## シナリオ5: 月次工賃計算から明細出力

### 手順
1. 年月を指定して「月次工賃を計算」を押す
2. 計算IDを指定して「工賃を承認」を押す
3. 同じIDで「明細(JSON)取得」を押す
4. 「明細CSV」「明細PDF」を順に押す

### 期待結果
1. 計算テーブルに対象月のデータが表示される
2. 承認後、状態が `approved` になる
3. 明細JSONが画面に表示される
4. CSV/PDFファイルがダウンロードされる

## 異常系チェック

1. MFAコード誤り: 適切なエラー文言が表示されること
2. 権限不足操作: 「権限がありません」系の文言が表示されること
3. 不正ID入力: 「対象データが見つかりません」またはバリデーションエラーが表示されること

## 実施記録テンプレート

- 実施日:
- 実施者:
- 対象環境:
- 成功シナリオ:
- 失敗シナリオ:
- 不具合/要望:
